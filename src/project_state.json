{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 3,
  "summary": "Expense tracker app with auto-calculated yearly totals and a new multi-year (till current year) total derived from yearly expense data.",
  "architectural_notes": [
    "Multi-year 'till-date' total should be derived from existing yearly expense data (no separate multi-year inputs) and auto-recalculate on changes."
  ],
  "known_issues": [],
  "isFixRequest": false,
  "existing_features": [
    {
      "id": "feature-add-a-new-react-query-hook-and-query-key-to-fetch-and-cache-the-new-backend-multi-year-total-following-the-same-patterns-used-by-usemonthlytotaltonow-and-useyearlytotaltonow-anonymous-actor-enabled-gating-on-actor-readiness-no-retries",
      "title": "Add a new React Query hook and query key to fetch and cache the new backend multi-year total, following the same patterns used by useMonthlyTotalToNow and useYearlyTotalToNow (anonymous actor, enabled gating on actor readiness, no retries).",
      "reqIds": [
        "REQ-2"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-daily-expenses-page-totals-ui-to-display-the-multi-year-total-as-a-single-additional-total-card-with-an-english-label-and-show-a-loading-spinner-while-it-is-fetching-consistent-with-the-existing-daily-month-to-date-year-to-date-cards",
      "title": "Update the Daily Expenses page totals UI to display the multi-year total as a single additional total card with an English label, and show a loading spinner while it is fetching, consistent with the existing daily/month-to-date/year-to-date cards.",
      "reqIds": [
        "REQ-3"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-the-multi-year-total-auto-updates-after-creating-updating-or-deleting-an-expense-by-invalidating-the-multi-year-total-query-in-the-existing-expense-mutation-hooks",
      "title": "Ensure the multi-year total auto-updates after creating, updating, or deleting an expense by invalidating the multi-year total query in the existing expense mutation hooks.",
      "reqIds": [
        "REQ-4"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Add multi-year expenses till-date auto-calculation: compute a single total as the sum of all yearly expense data from the starting year through the current year, auto-updating like the yearly totals.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-2",
      "summary": "Add a new public backend query method that returns a single multi-year expense total computed as the sum of all expense.amount values from the earliest recorded expense year through the current canister time (Time.now), i.e., a single “till date/current year” total across all years.",
      "reqIds": [
        "REQ-1"
      ],
      "status": "pending"
    }
  ],
  "projectName": "Add multi-year (all years to current year) expense total with auto-updating UI",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}